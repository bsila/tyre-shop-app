{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Ivan\\\\Documents\\\\tyre-shop-app\\\\client\\\\src\\\\components\\\\pages\\\\AppointmentManager.js\",\n    _s = $RefreshSig$();\n\nimport \"../../App.css\";\nimport React, { useState, useEffect } from \"react\";\nimport Axios from \"axios\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { Button } from \"@material-ui/core\";\nimport Popup from \"reactjs-popup\";\nimport \"reactjs-popup/dist/index.css\";\nconst columns = [{\n  id: \"idorder\",\n  label: \"ID\",\n  minWidth: 15\n}, {\n  id: \"buyer_name\",\n  label: \"Ime\",\n  minWidth: 75\n}, {\n  id: \"buyer_surname\",\n  label: \"Prezime\",\n  minWidth: 75\n}, {\n  id: \"offer_code\",\n  label: \"Kod\",\n  minWidth: 15\n}, {\n  id: \"quantity\",\n  label: \"Količina\",\n  minWidth: 25\n}, {\n  id: \"e_mail\",\n  label: \"E-mail\",\n  minWidth: 75\n}, {\n  id: \"phone_no\",\n  label: \"Mobitel\",\n  minWidth: 50\n}, {\n  id: \"comments\",\n  label: \"Komentar\",\n  minWidth: 75\n}, {\n  id: \"service_date_time\",\n  label: \"Termin\",\n  minWidth: 50\n}];\n\nfunction AppointmentManager() {\n  _s();\n\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n  const [date, setDate] = useState(new Date());\n  setDate(Date.now);\n\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n\n  const [appointmentList, setAppointmentList] = useState([]);\n  useEffect(() => {\n    Axios.get(\"http://192.168.5.90:3001/api/getAppointments\").then(response => {\n      setAppointmentList(response.data);\n    });\n  }, []);\n\n  function refreshTableData() {\n    Axios.get(\"http://192.168.5.90:3001/api/getAppointments\").then(response => {\n      console.log(\"fjasofja\");\n      setAppointmentList(response.data);\n\n      for (var i = 0; i < appointmentList.length; ++i) {\n        console.log(appointmentList[i].idorder + \"\\n\");\n      }\n    });\n  }\n\n  function editAppointment(id) {\n    console.log(id);\n    console.log(\"edit\");\n  }\n\n  function deleteAppointment(id) {\n    console.log(id);\n    console.log(\"delete\");\n    Axios.delete(`http://localhost:3001/api/deleteAppointment/${id}`);\n  }\n\n  function confirmAppointment(id) {\n    console.log(id);\n    console.log(\"confirm\");\n  }\n\n  const onChange = (event, selectedDate) => {\n    const currentDate = selectedDate || date;\n    setDate(currentDate);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"appointmentManager\",\n    id: \"root--div\",\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      class: \"appointmentManager\",\n      id: \"paper\",\n      children: [/*#__PURE__*/_jsxDEV(TableContainer, {\n        class: \"appointmentManager\",\n        id: \"container\",\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          stickyHeader: true,\n          \"aria-label\": \"sticky table\",\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [columns.map(column => /*#__PURE__*/_jsxDEV(TableCell, {\n                align: column.align,\n                style: {\n                  minWidth: column.minWidth\n                },\n                children: column.label\n              }, column.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 19\n              }, this)), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Izmjena termina\"\n              }, \"title_edit\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Brisanje termina\"\n              }, \"title_delete\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Potvrda termina\"\n              }, \"title_confirm\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: appointmentList.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(row => {\n              return /*#__PURE__*/_jsxDEV(TableRow, {\n                hover: true,\n                role: \"checkbox\",\n                tabIndex: -1,\n                children: [columns.map(column => {\n                  const value = row[column.id] ? row[column.id] : \"/\";\n                  return /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: column.align,\n                    children: column.format && typeof value === \"number\" ? column.format(value) : value\n                  }, column.id + row[\"idorder\"], false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 27\n                  }, this);\n                }), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: /*#__PURE__*/_jsxDEV(Popup, {\n                    trigger: /*#__PURE__*/_jsxDEV(Button, {\n                      linkon: \"0\",\n                      buttonstyle: \"btn--primary\",\n                      children: \"Izmjeni\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 141,\n                      columnNumber: 29\n                    }, this),\n                    modal: true,\n                    nested: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 25\n                  }, this)\n                }, \"edit_appointment\" + row[\"idorder\"], false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    linkon: \"0\",\n                    onClick: () => {\n                      deleteAppointment(row[\"idorder\"]);\n                      refreshTableData();\n                      refreshTableData();\n                    },\n                    buttonstyle: \"btn--primary\",\n                    children: \"Obri\\u0161i\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 25\n                  }, this)\n                }, \"delete_appointment\" + row[\"idorder\"], false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    linkon: \"0\",\n                    onClick: () => {\n                      confirmAppointment(row[\"idorder\"]);\n                      refreshTableData();\n                    },\n                    buttonstyle: \"btn--primary\",\n                    children: \"Potvrdi\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 25\n                  }, this)\n                }, \"confirm_appointment\" + row[\"idorder\"], false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 23\n                }, this)]\n              }, row.code, true, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TablePagination, {\n        rowsPerPageOptions: [10, 25, 100],\n        component: \"div\",\n        count: appointmentList.length,\n        rowsPerPage: rowsPerPage,\n        page: page,\n        onChangePage: handleChangePage,\n        onChangeRowsPerPage: handleChangeRowsPerPage,\n        class: \"appointmentManager\",\n        id: \"pageSelect\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AppointmentManager, \"jYlxq4r6RwSEJyzkBw2QhP/cW+A=\");\n\n_c = AppointmentManager;\nexport default AppointmentManager;\n\nvar _c;\n\n$RefreshReg$(_c, \"AppointmentManager\");","map":{"version":3,"sources":["C:/Users/Ivan/Documents/tyre-shop-app/client/src/components/pages/AppointmentManager.js"],"names":["React","useState","useEffect","Axios","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TablePagination","TableRow","Button","Popup","columns","id","label","minWidth","AppointmentManager","page","setPage","rowsPerPage","setRowsPerPage","date","setDate","Date","now","handleChangePage","event","newPage","handleChangeRowsPerPage","target","value","appointmentList","setAppointmentList","get","then","response","data","refreshTableData","console","log","i","length","idorder","editAppointment","deleteAppointment","delete","confirmAppointment","onChange","selectedDate","currentDate","map","column","align","slice","row","format","code"],"mappings":"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","sourcesContent":["import \"../../App.css\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Axios from \"axios\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport Popup from \"reactjs-popup\";\r\nimport \"reactjs-popup/dist/index.css\";\r\n\r\nconst columns = [\r\n  { id: \"idorder\", label: \"ID\", minWidth: 15 },\r\n  { id: \"buyer_name\", label: \"Ime\", minWidth: 75 },\r\n  { id: \"buyer_surname\", label: \"Prezime\", minWidth: 75 },\r\n  { id: \"offer_code\", label: \"Kod\", minWidth: 15 },\r\n  { id: \"quantity\", label: \"Količina\", minWidth: 25 },\r\n  { id: \"e_mail\", label: \"E-mail\", minWidth: 75 },\r\n  { id: \"phone_no\", label: \"Mobitel\", minWidth: 50 },\r\n  { id: \"comments\", label: \"Komentar\", minWidth: 75 },\r\n  { id: \"service_date_time\", label: \"Termin\", minWidth: 50 },\r\n];\r\n\r\nfunction AppointmentManager() {\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n  const [date, setDate] = useState(new Date());\r\n  setDate(Date.now);\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(+event.target.value);\r\n    setPage(0);\r\n  };\r\n\r\n  const [appointmentList, setAppointmentList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    Axios.get(\"http://192.168.5.90:3001/api/getAppointments\").then(\r\n      (response) => {\r\n        setAppointmentList(response.data);\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  function refreshTableData() {\r\n    Axios.get(\"http://192.168.5.90:3001/api/getAppointments\").then(\r\n      (response) => {\r\n        console.log(\"fjasofja\");\r\n        setAppointmentList(response.data);\r\n        for (var i = 0; i < appointmentList.length; ++i) {\r\n          console.log(appointmentList[i].idorder + \"\\n\");\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  function editAppointment(id) {\r\n    console.log(id);\r\n    console.log(\"edit\");\r\n  }\r\n\r\n  function deleteAppointment(id) {\r\n    console.log(id);\r\n    console.log(\"delete\");\r\n\r\n    Axios.delete(`http://localhost:3001/api/deleteAppointment/${id}`);\r\n  }\r\n\r\n  function confirmAppointment(id) {\r\n    console.log(id);\r\n    console.log(\"confirm\");\r\n  }\r\n\r\n  const onChange = (event, selectedDate) => {\r\n    const currentDate = selectedDate || date;\r\n    setDate(currentDate);\r\n  };\r\n\r\n  return (\r\n    <div class=\"appointmentManager\" id=\"root--div\">\r\n      <Paper class=\"appointmentManager\" id=\"paper\">\r\n        <TableContainer class=\"appointmentManager\" id=\"container\">\r\n          <Table stickyHeader aria-label=\"sticky table\">\r\n            <TableHead>\r\n              <TableRow>\r\n                {columns.map((column) => (\r\n                  <TableCell\r\n                    key={column.id}\r\n                    align={column.align}\r\n                    style={{ minWidth: column.minWidth }}\r\n                  >\r\n                    {column.label}\r\n                  </TableCell>\r\n                ))}\r\n\r\n                <TableCell key=\"title_edit\">Izmjena termina</TableCell>\r\n                <TableCell key=\"title_delete\">Brisanje termina</TableCell>\r\n                <TableCell key=\"title_confirm\">Potvrda termina</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {appointmentList\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map((row) => {\r\n                  return (\r\n                    <TableRow\r\n                      hover\r\n                      role=\"checkbox\"\r\n                      tabIndex={-1}\r\n                      key={row.code}\r\n                    >\r\n                      {columns.map((column) => {\r\n                        const value = row[column.id] ? row[column.id] : \"/\";\r\n\r\n                        return (\r\n                          <TableCell\r\n                            key={column.id + row[\"idorder\"]}\r\n                            align={column.align}\r\n                          >\r\n                            {column.format && typeof value === \"number\"\r\n                              ? column.format(value)\r\n                              : value}\r\n                          </TableCell>\r\n                        );\r\n                      })}\r\n\r\n                      <TableCell\r\n                        key={\"edit_appointment\" + row[\"idorder\"]}\r\n                        align=\"center\"\r\n                      >\r\n                        <Popup\r\n                          trigger={\r\n                            <Button linkon=\"0\" buttonstyle=\"btn--primary\">\r\n                              Izmjeni\r\n                            </Button>\r\n                          }\r\n                          modal\r\n                          nested\r\n                        ></Popup>\r\n                      </TableCell>\r\n\r\n                      <TableCell\r\n                        key={\"delete_appointment\" + row[\"idorder\"]}\r\n                        align=\"center\"\r\n                      >\r\n                        <Button\r\n                          linkon=\"0\"\r\n                          onClick={() => {\r\n                            deleteAppointment(row[\"idorder\"]);\r\n                            refreshTableData();\r\n                            refreshTableData();\r\n                          }}\r\n                          buttonstyle=\"btn--primary\"\r\n                        >\r\n                          Obriši\r\n                        </Button>\r\n                      </TableCell>\r\n\r\n                      <TableCell\r\n                        key={\"confirm_appointment\" + row[\"idorder\"]}\r\n                        align=\"center\"\r\n                      >\r\n                        <Button\r\n                          linkon=\"0\"\r\n                          onClick={() => {\r\n                            confirmAppointment(row[\"idorder\"]);\r\n                            refreshTableData();\r\n                          }}\r\n                          buttonstyle=\"btn--primary\"\r\n                        >\r\n                          Potvrdi\r\n                        </Button>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n\r\n        <TablePagination\r\n          rowsPerPageOptions={[10, 25, 100]}\r\n          component=\"div\"\r\n          count={appointmentList.length}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          onChangePage={handleChangePage}\r\n          onChangeRowsPerPage={handleChangeRowsPerPage}\r\n          class=\"appointmentManager\"\r\n          id=\"pageSelect\"\r\n        />\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AppointmentManager;\r\n"]},"metadata":{},"sourceType":"module"}